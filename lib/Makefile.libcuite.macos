PKG_CONFIG_PATH?=/usr/local/opt/qt/lib/pkgconfig

CXX=g++ -flat_namespace -std=c++14 -g -fPIC $(shell PKG_CONFIG_PATH="$(PKG_CONFIG_PATH)" pkg-config --cflags Qt5Gui Qt5Widgets) -I $(shell ocamlfind printconf stdlib) -DQT_NO_VERSION_TAGGING -I ../cpp -I .
CXXLD=$(CXX) $(shell PKG_CONFIG_PATH="$(PKG_CONFIG_PATH)" pkg-config --libs Qt5Gui Qt5Widgets) -undefined suppress

include Makefile.libcuite.gen

libcuite.so: $(CPP_OBJECTS) #$(patsubst %,../cpp/%,$(CPP_OBJECTS))
	$(CXXLD) -install_name $(CUITE_LIBDIR)/libcuite.so -shared -o $@ $(CPP_OBJECTS)
